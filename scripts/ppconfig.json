{"name":"dbfdebcbdde","url":"index.html (等资源+1)","showName":"小浩子计算器","appid":"com.dbfdebcbdde.pakeplus","icon":"","iconPath":"C:\\Users\\Administrator\\AppData\\Roaming\\com.pakeplus.pacbao\\8hqxhy19fh3.png","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"1.1.0","preview":"Android","platform":["1-1"],"width":412,"height":915,"desc":"","jsFile":[],"filterCss":"","customJs":"// very important, if you don't know what it is, don't touch it\n// 非常重要，不懂代码不要动，这里可以解决80%的问题，也可以生产1000+的bug\nconst hookClick = (e) => {\n    const origin = e.target.closest('a')\n    const isBaseTargetBlank = document.querySelector(\n        'head base[target=\"_blank\"]'\n    )\n    console.log('origin', origin, isBaseTargetBlank)\n    if (\n        (origin && origin.href && origin.target === '_blank') ||\n        (origin && origin.href && isBaseTargetBlank)\n    ) {\n        e.preventDefault()\n        console.log('handle origin', origin)\n        location.href = origin.href\n    } else {\n        console.log('not handle origin', origin)\n    }\n}\n\nwindow.open = function (url, target, features) {\n    console.log('open', url, target, features)\n    location.href = url\n}\n\ndocument.addEventListener('click', hookClick, { capture: true })\n\n// ========== 新增：安全区域适配 ==========\n(function fixSafeArea() {\n    // 1. 确保 viewport 设置了 viewport-fit=cover\n    const viewport = document.querySelector('meta[name=\"viewport\"]');\n    if (viewport) {\n        let content = viewport.getAttribute('content') || '';\n        if (!content.includes('viewport-fit=')) {\n            content += ', viewport-fit=cover';\n            viewport.setAttribute('content', content);\n        }\n    } else {\n        // 如果没有 viewport，创建一个\n        const meta = document.createElement('meta');\n        meta.name = 'viewport';\n        meta.content = 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover';\n        document.head.appendChild(meta);\n    }\n\n    // 2. 动态添加安全区域样式\n    const style = document.createElement('style');\n    style.innerHTML = `\n        body {\n            padding-bottom: env(safe-area-inset-bottom, 0px);\n        }\n        /* 如果只希望计算器容器底部留白，可以改用下面的规则 */\n        /* .calculator {\n            padding-bottom: env(safe-area-inset-bottom, 0px);\n        } */\n    `;\n    document.head.appendChild(style);\n\n    // 3. 后备方案：如果 env() 不支持，通过 JS 获取安全区域高度并设置\n    // 部分 WebView 可能不支持 env，但可以通过计算 window.innerHeight 与 document.documentElement.clientHeight 的差值来估算\n    function fallbackPadding() {\n        // 如果已经通过 env 设置了样式，理论上不需要后备，但为了兼容老版本，可以计算一次\n        const computed = window.getComputedStyle(document.body);\n        if (computed.paddingBottom === '0px') {\n            // 可能 env 未生效，尝试手动调整\n            const windowHeight = window.innerHeight;\n            const documentHeight = document.documentElement.clientHeight;\n            // 虚拟导航栏高度通常为 windowHeight - documentHeight 的正值\n            const navBarHeight = Math.max(0, windowHeight - documentHeight);\n            if (navBarHeight > 0) {\n                document.body.style.paddingBottom = navBarHeight + 'px';\n            }\n        }\n    }\n\n    // 在页面加载完成后执行一次\n    window.addEventListener('load', fallbackPadding);\n    // 同时监听 resize，因为横竖屏切换可能改变安全区域\n    window.addEventListener('resize', fallbackPadding);\n    // 立即执行一次（如果 DOM 已就绪）\n    if (document.readyState === 'complete' || document.readyState === 'interactive') {\n        fallbackPadding();\n    } else {\n        document.addEventListener('DOMContentLoaded', fallbackPadding);\n    }\n})();","isHtml":true,"htmlPath":"I:\\Record\\联欢会\\魔术","htmlFiles":[],"prefix":"","pcRepo":"PakePlus-v2.1.8","iosRepo":"PakePlus-iOS-v2.1.8","androidRepo":"PakePlus-Android-v2.1.8","more":{"windows":{"label":"","title":"小浩子计算器","url":"index.html (等资源+1)","userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Mobile Safari/537.36","width":412,"height":915,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"shadow":true,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false,"backgroundColor":null,"backgroundThrottling":null,"javascriptDisabled":false}},"phone":{"fullScreen":false,"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"dbfdebcbdde","showName":"小浩子计算器","version":"1.1.0","webUrl":"index.html (等资源+1)","id":"com.dbfdebcbdde.pakeplus.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":true,"debug":false,"safeArea":"all"},"android":{"name":"dbfdebcbdde","showName":"小浩子计算器","version":"1.1.0","webUrl":"index.html (等资源+1)","id":"com.dbfdebcbdde.pakeplus.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":true,"debug":false,"safeArea":"all"},"desktop":{"name":"dbfdebcbdde","showName":"小浩子计算器","version":"1.1.0","id":"com.dbfdebcbdde.pakeplus.desktop","desc":"打包仅限个人使用，请勿传播或商业用途，否则后果自负","webUrl":"index.html (等资源+1)","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"打包仅限个人使用，请勿传播或商业用途，否则后果自负","isHtml":true,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"local","debug":false}}